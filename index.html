<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>QUICKTEL Bundles</title>
    <script src="https://js.paystack.co/v1/inline.js"></script> <!-- Load Paystack -->
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #e5f4ec, #b3e5fc); margin: 0; padding: 0; color: #333; }
        h1 { text-align: center; color: purple; padding: 20px 0 10px; font-size: 28px; font-weight: 700; }
        .grid-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 10px; }
        .card { background: white; border-radius: 20px; padding: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.15); text-align: center; display: flex; flex-direction: column; justify-content: space-between; height: 230px; }
        .popular { background-color: gold; color: black; padding: 3px 8px; border-radius: 10px; display: inline-block; margin-bottom: 5px; font-weight: bold; }
        .price { color: palevioletred; font-weight: bold; margin: 5px 0; font-size: 20px; }
        .valid { font-weight: bold; margin-bottom: 8px; }
        .buy-buttons { display: flex; justify-content: center; gap: 10px; }
        .buy-buttons button { padding: 6px 10px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .buy-self { background-color: #333; color: #fff; }
        .buy-others { background-color: #2196f3; color: #fff; }
        footer { margin-top: 20px; background-color: #222; color: white; text-align: center; padding: 20px; font-size: 14px; border-top: 5px solid purple; }
    </style>
</head>
<body>

<h1>QUICKTEL BUNDLES</h1>

<div class="grid-container">
    <div class="card"><div class="popular">⭐ Popular Now</div><div class="price">KSh 50</div><div class="valid">175 MB · No expiry & WhatsApp</div><div class="buy-buttons"><button class="buy-self" onclick="startPayment(50, '175 MB No expiry & WhatsApp')">Self</button></div></div>

    <div class="card"><div class="price">KSh 20</div><div class="valid">1GB · 1 Hour</div><div class="buy-buttons"><button class="buy-self" onclick="startPayment(20, '1GB 1 Hour')">Self</button></div></div>

    <div class="card"><div class="price">KSh 100</div><div class="valid">2GB · 3 Days</div><div class="buy-buttons"><button class="buy-self" onclick="startPayment(100, '2GB 3 Days')">Self</button></div></div>

    <div class="card"><div class="popular">⭐ Popular Now</div><div class="price">KSh 25</div><div class="valid">300MB · 24 Hours</div><div class="buy-buttons"><button class="buy-self" onclick="startPayment(25, '300MB 24 Hours')">Self</button></div></div>

    <div class="card"><div class="price">KSh 15</div><div class="valid">500MB · 1 Hour</div><div class="buy-buttons"><button class="buy-self" onclick="startPayment(15, '500MB 1 Hour')">Self</button></div></div>

    <div class="card"><div class="price">KSh 1000</div><div class="valid">5GB · No Expiry & WhatsApp</div><div class="buy-buttons"><button class="buy-self" onclick="startPayment(1000, '5GB No Expiry')">Self</button></div></div>

    <div class="card"><div class="price">KSh 150</div><div class="valid">1.25GB · No Expiry & WhatsApp</div><div class="buy-buttons"><button class="buy-self" onclick="startPayment(150, '1.25GB No Expiry')">Self</button></div></div>

    <div class="card"><div class="price">KSh 250</div><div class="valid">2GB · 30 Days</div><div class="buy-buttons"><button class="buy-self" onclick="startPayment(250, '2GB 30 Days')">Self</button></div></div>

    <div class="card"><div class="price">KSh 200</div><div class="valid">1GB · 7 Days</div><div class="buy-buttons"><button class="buy-self" onclick="startPayment(200, '1GB 7 Days')">Self</button></div></div>
</div>

<footer>
    <p>Terms & Conditions apply. Quicktel reserves the right to change bundle offers anytime. All purchases are final.</p>
</footer>

<script>
function startPayment(amount, bundle) {
    const phone = prompt("Enter your phone number (07XXXXXXXX):");
    if (!phone || !/^07\d{8}$/.test(phone)) {
        alert("Invalid phone number!");
        return;
    }

    let handler = PaystackPop.setup({
        key: 'pk_live_3b95d82d975d8cd88f2e0059b1d6dca62c1db036',
        email: phone + "@quicktel.com",
        amount: amount * 100, // amount in kobo
        currency: "KES",
        ref: 'QT' + Math.floor((Math.random() * 1000000000) + 1),
        callback: function(response) {
            // Call backend to verify
            fetch("https://your-backend-url.com/verify-payment", {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ 
                    reference: response.reference, 
                    bundle: bundle, 
                    phone: phone 
                })
            }).then(res => res.json())
            .then(data => {
                alert(data.message);
            }).catch(err => {
                alert("Payment verified but backend failed!");
            });
        },
        onClose: function() {
            alert('Payment window closed.');
        }
    });
    handler.openIframe();
}
</script>

</body>
</html>